
{% extends "userBase.html" %}

{% block head %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block content %}
    
<body>

 

<div class="container-user">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="user-info">
            <div class="avatar-wrapper">
                <img src="{% static 'images/avatar.png' %}" class="avatar-img">
                <span class="avatar-camera"><i class="bi bi-camera-fill"></i></span>
            </div>
            <p class="username">{{ customer.full_name }}</p>
         <div class="profile-actions">
          <a href="{% url 'profile' %}" class="btn btn-outline">Chỉnh sửa thông tin</a>
        </div>

        </div>

        <nav class="menu">
            <ul>
                <li class="active" data-section="profile-section"><a href="#">Tài Khoản Của Tôi</a></li>
                <li data-section="repass-section"><div class="profile-actions">
                  <a href="{% url 'change_password' %}" class="btn btn-outline">Đổi mật khẩu</a>
                </div>
                </li>
                <li data-section="orders-section"><a href="#">Đơn Mua</a></li>
            </ul>
        </nav>

        <div class="logout-section">
            <a href="{% url 'logout' %}">
                <button id="logoutBtn">Đăng Xuất</button>
            </a>
        </div>
    </aside>

    <!-- Nội dung chính -->
    <main class="content">
        <!-- Hồ sơ -->
        <section id="profile-section" class="section active">
            <h2>Hồ Sơ Của Tôi</h2>
            <p class="desc">Quản lý thông tin hồ sơ để bảo mật tài khoản</p>

            <form class="profile-form">
                <div class="form-group">
                    <label>Họ và tên</label>
                    <input type="text" value="{{ customer.full_name }}">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" value="{{ customer.email }}" readonly>
                </div>
                <div class="form-group">
                    <label>Số điện thoại</label>
                    <input type="tel" value="{{ customer.phone }}">
                </div>
               <div class="form-group">
                  <label>Ngày sinh</label>
                  <input type="date" name="date_of_birth" value="{{ customer.date_of_birth|date:'Y-m-d' }}">
                </div>

                <div class="form-group">
                    <label>Giới tính</label>
                    <select>
                        <option {% if customer.gender == 'Nam' %}selected{% endif %}>Nam</option>
                        <option {% if customer.gender == 'Nữ' %}selected{% endif %}>Nữ</option>
                        <option {% if customer.gender == 'Khác' %}selected{% endif %}>Khác</option>
                    </select>
                </div>
                <button class="save-btn" type="submit">Lưu</button>
            </form>
        </section>

        <!-- Đổi mật khẩu -->
        <section id="repass-section" class="section">
            <h2>Đổi Mật Khẩu</h2>
            <form method="post" action="{% url 'change_password' %}">
                {% csrf_token %}
                <div class="form-group">
                    <label>Mật khẩu hiện tại</label>
                    <input type="password" name="currentPassword" required>
                </div>
                <div class="form-group">
                    <label>Mật khẩu mới</label>
                    <input type="password" name="newPassword" required>
                </div>
                <div class="form-group">
                    <label>Nhập lại mật khẩu mới</label>
                    <input type="password" name="confirmPassword" required>
                </div>
                <button class="save-btn" type="submit">Xác nhận</button>
            </form>
        </section>

        <!-- Đơn mua -->
        <section id="orders-section" class="section">
            <h2>Đơn Mua</h2>
            <p>Bạn đã đặt <strong>{{ order_count }}</strong> đơn hàng.</p>
            <!-- Có thể thêm bảng danh sách đơn hàng -->
        </section>

        <!-- Địa chỉ -->
        <section id="addresses-section" class="section">
            <h2>Địa Chỉ Nhận Hàng</h2>
            <!-- Hiển thị danh sách địa chỉ -->
        </section>
    </main>
</div>

{% endblock %}

